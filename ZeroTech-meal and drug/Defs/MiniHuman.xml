<?xml version="1.0" encoding="utf-8" ?>
<Defs>

  <ThingDef ParentName="MakeableDrugPillBase">
    <defName>LoseWaterPill</defName>
    <label>脱水剂</label>
    <description>食用这味药剂会使得生物体内的水分高速排出,使食用者压缩成一坨有机物.\n可以在需要的时候重新解压,成为一个生物.如果压缩状态受到伤害,解压后的生物可能不完整.</description>
    <descriptionHyperlinks>
	<HediffDef>LingNoWaterPawnLoseWater</HediffDef>
	<ThingDef>LingNoWaterPawn</ThingDef>
	</descriptionHyperlinks>
    <graphicData>
      <texPath>Things/Item/Drug/LoseWaterPill</texPath>
      <graphicClass>Graphic_StackCount</graphicClass>
    </graphicData>
    <socialPropernessMatters>false</socialPropernessMatters>
    <rotatable>false</rotatable>
    <statBases>
      <WorkToMake>300</WorkToMake>
      <MarketValue>300</MarketValue>
      <Mass>0.005</Mass>
      <Flammability>0</Flammability>
    </statBases>
    <techLevel>Industrial</techLevel>
    <ingestible>
      <drugCategory>Medical</drugCategory>
      <outcomeDoers>
        <li Class="IngestionOutcomeDoer_GiveHediff">
          <hediffDef>LingNoWaterPawnLoseWater</hediffDef>
          <severity>0.01</severity>
        </li>
      </outcomeDoers>
    </ingestible>
    <recipeMaker>
      <recipeUsers>
        <li>TableZoreTech</li>
      </recipeUsers>
      <researchPrerequisite>ZeroTechDrugs</researchPrerequisite>
    </recipeMaker>
    <costList>
      <Neutroamine>10</Neutroamine>
    </costList>
    <comps>
      <li Class="CompProperties_Drug">
        <listOrder>1000</listOrder>
        <overdoseSeverityOffset>
          <min>0.08</min>
          <max>0.14</max>
        </overdoseSeverityOffset>
      </li>
    </comps>
  </ThingDef>
  <HediffDef>
    <defName>LingNoWaterPawnLoseWater</defName>
    <label>高速脱水</label>
    <description>极其剧烈的脱水反应,但却不致命,而是会使生物变成一团有机物,而且可以在补水后恢复原形.</description>
    <hediffClass>LingGame.Hediff_LingLoseWater</hediffClass>
    <scenarioCanAdd>true</scenarioCanAdd>
    <initialSeverity>0.01</initialSeverity>
    <isBad>false</isBad>
    <maxSeverity>1.0</maxSeverity>
    <minSeverity>0.01</minSeverity>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>50</severityPerDay>
      </li>
    </comps>
    <stages>
      <li>
        <label>preliminary</label>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <setMax>0.8</setMax>
          </li>
        </capMods>
      </li>
      <li>
        <label>major</label>
        <minSeverity>0.2</minSeverity>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <setMax>0.4</setMax>
          </li>
        </capMods>
      </li>
      <li>
        <label>initial</label>
        <minSeverity>0.8</minSeverity>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <setMax>0.1</setMax>
          </li>
        </capMods>
      </li>
    </stages>
  </HediffDef>
  <ThingDef>
    <defName>LingNoWaterPawn</defName>
    <thingClass>LingGame.NoWaterPawn</thingClass>
    <category>Item</category>
    <label>压缩的生物</label>
    <description>一个被脱水压缩的生物,全部的生理状态都暂停了.</description>
    <graphicData>
      <texPath>Things/Item/LingNoWaterPawn</texPath>
      <graphicClass>Graphic_Random</graphicClass>
    </graphicData>
    <altitudeLayer>Item</altitudeLayer>
    <useHitPoints>true</useHitPoints>
    <selectable>true</selectable>
    <tradeability>All</tradeability>
    <statBases>
      <MarketValue>1000</MarketValue>
      <MaxHitPoints>100</MaxHitPoints>
      <Flammability>2</Flammability>
      <DeteriorationRate>0.5</DeteriorationRate>
      <Beauty>0</Beauty>
      <Mass>21</Mass>
      <Nutrition>2</Nutrition>
    </statBases>
    <alwaysHaulable>true</alwaysHaulable>
    <comps>
      <li Class="CompProperties_Forbiddable"/>
      <li>
        <compClass>CompColorable</compClass>
      </li>
    </comps>
    <thingCategories>
      <li>Foods</li>
    </thingCategories>
    <ingestible>
      <foodType>Corpse</foodType>
      <tasteThought>AteCorpse</tasteThought>
      <preferability>DesperateOnly</preferability>
      <maxNumToIngestAtOnce>1</maxNumToIngestAtOnce>
      <optimalityOffsetHumanlikes>-60</optimalityOffsetHumanlikes>
    </ingestible>
  </ThingDef>
  <HediffDef>
    <defName>LingHaveWaterPawn</defName>
    <label>脱水恢复</label>
    <description>由于过度脱水导致的身体虚弱,很快便能恢复,但需要很久才能彻底摆脱.</description>
    <hediffClass>HediffWithComps</hediffClass>
    <scenarioCanAdd>true</scenarioCanAdd>
    <initialSeverity>1</initialSeverity>
    <isBad>false</isBad>
    <maxSeverity>1.0</maxSeverity>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-0.2</severityPerDay>
      </li>
    </comps>
    <stages>
      <li>
        <label>preliminary</label>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <offset>-0.1</offset>
          </li>
        </capMods>
      </li>
      <li>
        <label>major</label>
        <minSeverity>0.9</minSeverity>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <setMax>0.4</setMax>
          </li>
        </capMods>
      </li>
      <li>
        <label>initial</label>
        <minSeverity>0.95</minSeverity>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <setMax>0.1</setMax>
          </li>
        </capMods>
      </li>
    </stages>
  </HediffDef>


</Defs>
